import{f as i}from"./fetch-CGUiTqyx.js";const $=(e,t,r={})=>{const n=document.querySelector(".days"),o=document.querySelector(".currentDate");let s=new Date;const l=["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"];let c=new Date(e,t,1).getDay(),u=new Date(e,t+1,0).getDate(),y=new Date(e,t,0).getDate(),h="";c===0&&(c=7);const k=42;for(let a=c-1;a>0;a--)h+=`<li class="inactive">${y-a+1}</li>`;for(let a=1;a<=u;a++){let D=a===s.getDate()&&t===new Date().getMonth()&&e===new Date().getFullYear()?"active":"";const p=`${e}-${(t+1).toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}`,d=r[p]?r[p].mood_color:null;let g="";d?g=`background-color: #${d};`:new Date(e,t,a)<new Date(s.getFullYear(),s.getMonth(),s.getDate())&&(g="background-color: #D9D9D9;"),h+=`<li class="${D}" style="${g}">${a}</li>`}const m=k-(c+u-1);for(let a=1;a<=m;a++)h+=`<li class="inactive">${a}</li>`;o.innerText=`${l[t]} ${e}`,n.innerHTML=h};function w(e){const[t,r,n]=e.split(".");return`${n}-${r.padStart(2,"0")}-${t.padStart(2,"0")}`}function S(e){const[t,r,n]=e.split("-");return`${n.padStart(2,"0")}.${r.padStart(2,"0")}.${t}`}async function T(e,t){console.log("Fetching monthly entries for year:",e,"and month:",t);const r=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/entries/monthly?year=${e}&month=${t}`,o={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{return await i(r,o)}catch(s){return console.error("Error fetching entries:",s),{}}}async function E(e){console.log("GetDayData: "+e);const t=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/entries/daily/${e}`,n={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{const o=await i(t,n);return console.log(o),o}catch(o){return console.error("Error fetching entries:",o),{}}}async function v(e,t){const r=window.location.search,o=new URLSearchParams(r).get("client");console.log("Fetching patient entries for year:",e,"and month:",t);const s=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/entries/doctor/monthly/${o}?year=${e}&month=${t}`,c={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{return await i(s,c)}catch(u){return console.error("Error fetching entries:",u),{}}}async function P(e){const t=window.location.search,n=new URLSearchParams(t).get("client");console.log("Get patient day: "+e);const o=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/entries/doctor/daily/${e}/${n}`,l={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{const c=await i(o,l);return console.log(c),c}catch(c){return console.error("Error fetching entries:",c),{}}}async function z(){const e=window.location.search,n=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/survey/doctor/${new URLSearchParams(e).get("client")}`,s={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{const l=await i(n,s);return console.log(l),l}catch(l){return console.error("Error fetching entries:",l),{}}}function b(e,t){return console.log("Checking date: "+t),console.log("Checking month: "+e),e.hasOwnProperty(t)&&Object.keys(e[t]).length>0}async function G(e){const t=localStorage.getItem("token");if(!t){console.error("Bearer token missing");return}const r=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/kubios/check/${e}`,n={method:"GET",headers:{Authorization:`Bearer ${t}`}};try{const o=await i(r,n);return console.log("HRV data found:",o.kubiosDataFound),o.kubiosDataFound}catch(o){return console.error("Error checking HRV data:",o),!1}}export{G as a,T as b,w as c,z as d,S as e,P as f,E as g,b as h,v as i,$ as r};
