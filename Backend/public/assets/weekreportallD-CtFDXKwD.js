import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */import{f as u}from"./fetch-CGUiTqyx.js";import{c as l}from"./convertDay-qbsODVBg.js";window.addEventListener("load",async c=>{c.preventDefault();try{const o=localStorage.getItem("userId");console.log(o);const d=`http://127.0.0.1:3000/api/reports/doctor/available-weeks/${o}`,k={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}},r=await u(d,k);if(r&&r.length>0){const a=document.querySelector(".weeks");r.forEach(e=>{const t=document.createElement("li");t.classList.add("week"),t.textContent=`Viikko ${e.week_number}`;const i=document.createElement("div");i.classList.add("date");const p=l(e.week_start_date),m=l(e.week_end_date);i.textContent=`${p} - ${m}`;const s=document.createElement("div");s.classList.add("reports");const n=document.createElement("a");n.href=`weekReportD.html?week=${e.week_number}`,n.addEventListener("click",function(v){localStorage.setItem("selectedReportId",e.report_id)}),n.textContent="Näytä raportti",s.appendChild(n),t.appendChild(i),t.appendChild(s),a.appendChild(t)})}else{const a=document.querySelector(".weeks");a.style.whiteSpace="pre-line",a.textContent=`Viikkoraportit ovat erinomainen tapa seurata omaa hyvinvointia ja tarkastella kuluneita viikkoja kokonaisuutena.
Tällä hetkellä sivu on tyhjä, koska asiakkaalla ei ole menneiltä viikoilta päiväkirjamerkintöjä. Uusi raportti generoituu aina viikon vaihtuessa.`}}catch(o){console.error("Error fetching report:",o)}});
