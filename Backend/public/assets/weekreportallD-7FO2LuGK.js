import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */import{f as u}from"./fetch-CGUiTqyx.js";import{c as l}from"./convertDay-qbsODVBg.js";window.addEventListener("load",async c=>{c.preventDefault();try{const o=localStorage.getItem("userId");console.log(o);const d=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/reports/doctor/available-weeks/${o}`,p={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}},n=await u(d,p);if(n&&n.length>0){const a=document.querySelector(".weeks");n.forEach(e=>{const t=document.createElement("li");t.classList.add("week"),t.textContent=`Viikko ${e.week_number}`;const i=document.createElement("div");i.classList.add("date");const k=l(e.week_start_date),m=l(e.week_end_date);i.textContent=`${k} - ${m}`;const s=document.createElement("div");s.classList.add("reports");const r=document.createElement("a");r.href=`weekReportD.html?week=${e.week_number}`,r.addEventListener("click",function(v){localStorage.setItem("selectedReportId",e.report_id)}),r.textContent="Näytä raportti",s.appendChild(r),t.appendChild(i),t.appendChild(s),a.appendChild(t)})}else{const a=document.querySelector(".weeks");a.style.whiteSpace="pre-line",a.textContent=`Viikkoraportit ovat erinomainen tapa seurata omaa hyvinvointia ja tarkastella kuluneita viikkoja kokonaisuutena.
Tällä hetkellä sivu on tyhjä, koska asiakkaalla ei ole menneiltä viikoilta päiväkirjamerkintöjä. Uusi raportti generoituu aina viikon vaihtuessa.`}}catch(o){console.error("Error fetching report:",o)}});
