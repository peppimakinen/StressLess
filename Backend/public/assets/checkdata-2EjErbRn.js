import{f as l}from"./fetch-CGUiTqyx.js";const $=(t,e,n={})=>{const r=document.querySelector(".days"),o=document.querySelector(".currentDate");let s=new Date;const i=["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"];let c=new Date(t,e,1).getDay(),u=new Date(t,e+1,0).getDate(),y=new Date(t,e,0).getDate(),g="";c===0&&(c=7);const k=42;for(let a=c-1;a>0;a--)g+=`<li class="inactive">${y-a+1}</li>`;for(let a=1;a<=u;a++){let p=a===s.getDate()&&e===new Date().getMonth()&&t===new Date().getFullYear()?"active":"";const d=`${t}-${(e+1).toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}`,D=n[d]?n[d].mood_color:null;let h="";D?h=`background-color: #${D};`:new Date(t,e,a)<new Date(s.getFullYear(),s.getMonth(),s.getDate())&&(h="background-color: #D9D9D9;"),g+=`<li class="${p}" style="${h}">${a}</li>`}const m=k-(c+u-1);for(let a=1;a<=m;a++)g+=`<li class="inactive">${a}</li>`;o.innerText=`${i[e]} ${t}`,r.innerHTML=g};function w(t){const[e,n,r]=t.split(".");return`${r}-${n.padStart(2,"0")}-${e.padStart(2,"0")}`}function S(t){const[e,n,r]=t.split("-");return`${r.padStart(2,"0")}.${n.padStart(2,"0")}.${e}`}async function T(t,e){console.log("Fetching monthly entries for year:",t,"and month:",e);const n=`http://127.0.0.1:3000/api/entries/monthly?year=${t}&month=${e}`,o={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{return await l(n,o)}catch(s){return console.error("Error fetching entries:",s),{}}}async function E(t){console.log("GetDayData: "+t);const e=`http://127.0.0.1:3000/api/entries/daily/${t}`,r={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{const o=await l(e,r);return console.log(o),o}catch(o){return console.error("Error fetching entries:",o),{}}}async function P(t,e){const n=window.location.search,o=new URLSearchParams(n).get("client");console.log("Fetching patient entries for year:",t,"and month:",e);const s=`http://127.0.0.1:3000/api/entries/doctor/monthly/${o}?year=${t}&month=${e}`,c={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{return await l(s,c)}catch(u){return console.error("Error fetching entries:",u),{}}}async function b(t){const e=window.location.search,r=new URLSearchParams(e).get("client");console.log("Get patient day: "+t);const o=`http://127.0.0.1:3000/api/entries/doctor/daily/${t}/${r}`,i={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{const c=await l(o,i);return console.log(c),c}catch(c){return console.error("Error fetching entries:",c),{}}}async function G(){const t=window.location.search,r=`http://127.0.0.1:3000/api/survey/doctor/${new URLSearchParams(t).get("client")}`,s={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}};try{const i=await l(r,s);return console.log(i),i}catch(i){return console.error("Error fetching entries:",i),{}}}function M(t,e){return console.log("Checking date: "+e),console.log("Checking month: "+t),t.hasOwnProperty(e)&&Object.keys(t[e]).length>0}async function v(t){const e=localStorage.getItem("token");if(!e){console.error("Bearer token missing");return}const n=`http://127.0.0.1:3000/api/kubios/check/${t}`,r={method:"GET",headers:{Authorization:`Bearer ${e}`}};try{const o=await l(n,r);return console.log("HRV data found:",o.kubiosDataFound),o.kubiosDataFound}catch(o){return console.error("Error checking HRV data:",o),!1}}export{v as a,T as b,w as c,G as d,S as e,b as f,E as g,M as h,P as i,$ as r};
