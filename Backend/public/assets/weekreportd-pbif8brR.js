import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                   */import{f as $}from"./fetch-CGUiTqyx.js";import{c as z}from"./convertDay-qbsODVBg.js";window.addEventListener("load",async function(_){_.preventDefault();try{const c=localStorage.getItem("selectedReportId"),v=localStorage.getItem("userId");console.log(v,c);const w=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/reports/doctor/specific-report/${c}/${v}/`,I={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}},e=await $(w,I);console.log(e);const d=e.week_si_avg,l=e.previous_week_si_avg,T=`Raporttisi luotu: ${z(e.created_at)}`,C=document.querySelector(".createdTag");if(C.textContent=T,l===null){const t=document.querySelector("#stressSummary");t.textContent="Tietokannassa ei ole tarpeeksi tarkkaa tietoa antamaan yhteenvetoa tämän viikon stressitasosta verrattuna aiempaan viikkoon mitatun stressi-indexisi perusteella."}else if(d>=l){const t=document.querySelector("#stressSummary");t.textContent="Mitatun stressi-indexisi perusteella stressasit tällä viikolla enemmän verrattuna viime viikkoon. On hyvä kerrata tapoja, jotka ovat tehokkaimmin alentaneet stressiäsi aikaisemmin."}else if(d==l){const t=document.querySelector("#stressSummary");t.textContent="Mitatun stressi-indexisi perusteella stressitasossa ei havaittu merkittäviä muutoksia viime viikkoon verrattuna."}else if(d<=l){const t=document.querySelector("#stressSummary");t.textContent="Mitatun stressi-indexisi perusteella stressasit tällä viikolla vähemmän edelliseen viikkoon verrattuna, hienoa! Kannattaa kiinnittää huomioita niihin tapoihin, joita olet tällä viikolla tehnyt stressisi lieventämiseksi. Niistä voi olla hyötyä myös jatkossa!"}const D=e.green_percentage,E=e.yellow_percentage,b=e.red_percentage,P=e.gray_percentage,m=document.getElementById("pieChart"),a=m.getContext("2d"),f={colors:["#FF8585","#9BCF53","#D9D9D9","#FFF67E"],percentages:[b,D,P,E]},u=m.width/2,y=m.height/2,B=Math.min(u,y)*.9;let h=180;f.percentages.forEach((t,s)=>{const n=Math.PI*2*t/100,i=h+n;a.beginPath(),a.moveTo(u,y),a.arc(u,y,B,h,i),a.fillStyle=f.colors[s],a.fill(),a.strokeStyle="black",a.stroke(),h=i});const M=e.monday_si,R=e.tuesday_si,q=e.wednesday_si,A=e.thursday_si,F=e.friday_si,Y=e.saturday_si,j=e.sunday_si,p=document.getElementById("barChart"),o=p.getContext("2d"),x={days:["Ma","Ti","Ke","To","Pe","La","Su"],percentages:[M,R,q,A,F,Y,j]},k=15,S=40,r=p.height-50,g=20;o.fillStyle="black",x.percentages.forEach((t,s)=>{const n=t/g*r,i=(k+S)*s+20,L=r-n;o.fillRect(i,L,k,n)}),o.fillStyle="black",o.font="14px tahoma",x.days.forEach((t,s)=>{const n=(k+S)*s+15,i=r+20;o.fillText(t,n,i)});const G=2;o.lineWidth=.1;for(let t=0;t<=g;t+=G){const s=r-t/g*r;o.moveTo(10,s),o.lineTo(p.width,s),o.stroke(),o.fillText(t.toString(),0,s-5)}}catch(c){console.error("Error fetching report:",c)}});const H=document.querySelector(".backIcon");H.addEventListener("click",()=>{window.location.href="../reports/weekReportAllD.html"});
