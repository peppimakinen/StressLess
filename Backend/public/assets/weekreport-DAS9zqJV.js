import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css                   */import{f as L}from"./fetch-CGUiTqyx.js";import{c as z}from"./convertDay-qbsODVBg.js";window.addEventListener("load",async function(S){S.preventDefault();try{const _=`https://hyte-server-aleksi.northeurope.cloudapp.azure.com/api/reports/${localStorage.getItem("selectedReportId")}`,w={method:"GET",headers:{Authorization:"Bearer "+localStorage.getItem("token")}},e=await L(_,w);console.log(e);const l=e.week_si_avg,c=e.previous_week_si_avg,I=`Raporttisi luotu: ${z(e.created_at)}`,T=document.querySelector(".createdTag");if(T.textContent=I,c===null){const t=document.querySelector("#stressSummary");t.textContent="Tietokannassa ei ole tarpeeksi tarkkaa tietoa antamaan yhteenvetoa tämän viikon stressitasosta verrattuna aiempaan viikkoon mitatun stressi-indexisi perusteella."}else if(l>=c){const t=document.querySelector("#stressSummary");t.textContent="Mitatun stressi-indexisi perusteella stressasit tällä viikolla enemmän verrattuna viime viikkoon. On hyvä kerrata tapoja, jotka ovat tehokkaimmin alentaneet stressiäsi aikaisemmin."}else if(l==c){const t=document.querySelector("#stressSummary");t.textContent="Mitatun stressi-indexisi perusteella stressitasossa ei havaittu merkittäviä muutoksia viime viikkoon verrattuna."}else if(l<=c){const t=document.querySelector("#stressSummary");t.textContent="Mitatun stressi-indexisi perusteella stressasit tällä viikolla vähemmän edelliseen viikkoon verrattuna, hienoa! Kannattaa kiinnittää huomioita niihin tapoihin, joita olet tällä viikolla tehnyt stressisi lieventämiseksi. Niistä voi olla hyötyä myös jatkossa!"}const C=e.green_percentage,E=e.yellow_percentage,b=e.red_percentage,D=e.gray_percentage,d=document.getElementById("pieChart"),a=d.getContext("2d"),v={colors:["#FF8585","#9BCF53","#D9D9D9","#FFF67E"],percentages:[b,C,D,E]},m=d.width/2,u=d.height/2,B=Math.min(m,u)*.9;let y=180;v.percentages.forEach((t,o)=>{const n=Math.PI*2*t/100,i=y+n;a.beginPath(),a.moveTo(m,u),a.arc(m,u,B,y,i),a.fillStyle=v.colors[o],a.fill(),a.strokeStyle="black",a.stroke(),y=i});const M=e.monday_si,P=e.tuesday_si,R=e.wednesday_si,q=e.thursday_si,A=e.friday_si,F=e.saturday_si,Y=e.sunday_si,h=document.getElementById("barChart"),s=h.getContext("2d"),f={days:["Ma","Ti","Ke","To","Pe","La","Su"],percentages:[M,P,R,q,A,F,Y]},k=15,x=40,r=h.height-50,p=20;s.fillStyle="black",f.percentages.forEach((t,o)=>{const n=t/p*r,i=(k+x)*o+20,G=r-n;s.fillRect(i,G,k,n)}),s.fillStyle="black",s.font="14px tahoma",f.days.forEach((t,o)=>{const n=(k+x)*o+15,i=r+20;s.fillText(t,n,i)});const j=2;s.lineWidth=.1;for(let t=0;t<=p;t+=j){const o=r-t/p*r;s.moveTo(10,o),s.lineTo(h.width,o),s.stroke(),s.fillText(t.toString(),0,o-5)}}catch(g){console.error("Error fetching report:",g)}});const H=document.querySelector(".backIcon");H.addEventListener("click",()=>{window.location.href="../reports/weekReportAll.html"});
